//Notice that we will add external dependencies to this so might have to merge rather than copy code